# Практика / Занятие 15 / ER диаграммы

## Задание №1

**Описание**:  
Требуется разработать ER-диаграмму для базы данных приложения по онлайн-заказу букетов. Приложение должно обеспечивать функционал выбора и покупки букетов пользователями, а также управление заказами и продукцией со стороны продавцов.

Требования к модели данных:  
1\. Пользователи:  
   \- Пользователи могут быть двух типов: покупатели и продавцы.  
   \- Каждый пользователь должен иметь уникальный идентификатор, имя, электронную почту, пароль и контактные данные.  
   \- Покупатели могут оформлять заказы, оставлять отзывы.  
   \- Продавцы управляют ассортиментом букетов и обрабатывают заказы.

2\. Букеты:  
   \- Продавцы создают и управляют букетами, которые могут быть доступны для заказа.  
   \- Для каждого букета необходимо хранить его уникальный идентификатор, название, описание, цену, изображение и текущий статус (в наличии/не в наличии).  
   \- Букет может состоять из нескольких цветков, для каждого цветка необходимо указать его вид (роза, тюльпан и т.д.).

3\. Заказы:  
   \- Каждый заказ должен быть связан с покупателем и содержать информацию о купленном букете.  
   \- Заказ должен содержать такие поля, как: уникальный идентификатор заказа, дата заказа, статус заказа (в обработке, доставлен и т.д.), итоговая сумма.  
   \- Заказ может содержать несколько букетов.

4\. Доставка:  
   \- Для каждого заказа необходимо указать адрес доставки, предпочтительное время доставки и информацию о курьере (если применимо).  
   \- Заказ может содержать информацию о состоянии доставки (в пути, доставлен и т.д.).

5\. Отзывы:  
   \- Покупатели могут оставлять отзывы о букетах, которые они приобрели.  
   \- Каждый отзыв должен содержать текст, рейтинг и информацию о дате публикации.  
   \- Отзыв должен быть привязан к конкретному покупателю и букету.

6\. Категории и теги:  
   \- Букеты могут принадлежать к одной или нескольким категориям (например, "свадебные", "праздничные").  
   \- Также для букетов можно использовать теги (например, "розы", "романтичные", "для юбилея").

7\. Акции и скидки:  
   \- Продавцы могут предлагать скидки на букеты. Каждая скидка должна содержать информацию о размере скидки и сроках её действия.  
   \- Возможна связь между букетом и конкретной акцией.

## Задание №2

**Описание**:  
Требуется разработать минимально жизнеспособную версию (MVP) модели данных для приложения, которое позволяет пользователям оплачивать парковку в городских зонах. Основной функционал MVP — это регистрация пользователей, оплата парковочных сессий и расчёт стоимости парковки в зависимости от зоны и времени.

**Основные требования к MVP:**

1\. Пользовательская регистрация и аутентификация:  
   \- Необходимо поддерживать базовый функционал регистрации пользователей, включая вход в систему. Пользователи должны иметь возможность создавать учетные записи, входить в приложение и управлять базовыми настройками профиля. Это основной компонент, который позволит связывать действия пользователей с дальнейшими парковочными сессиями.

2\. Управление парковочными зонами:  
   \- Для MVP важно предусмотреть базовую структуру для хранения информации о парковочных зонах. Каждая зона должна иметь уникальные тарифы за время парковки. На данном этапе достаточно хранить минимум данных о зоне (например, её уникальный идентификатор и стоимость за единицу времени). Эти зоны будут использоваться для расчета стоимости парковки.

3\. Парковочные сессии:  
   \- Пользователь должен иметь возможность начать и завершить парковочную сессию. Для каждой сессии необходимо хранить начальное и конечное время, зону, где была активирована парковка, и транспортное средство, если оно предусмотрено. Основной функционал — это фиксация времени сессии и её привязка к соответствующей парковочной зоне для расчета тарифа.

4\. Расчёт стоимости парковки:  
   \- После завершения парковочной сессии необходимо автоматически рассчитать стоимость парковки в зависимости от продолжительности и тарифа выбранной зоны. Расчет должен быть точным и прозрачным для пользователя, с возможностью отображения итоговой суммы перед оплатой.

5\. Оплата:  
   \- Для MVP достаточно поддерживать базовую оплату через один из возможных методов (например, банковская карта). Система должна зафиксировать факт оплаты, связанный с конкретной парковочной сессией. Детали транзакции (например, время оплаты, сумма) должны храниться для предоставления пользователю истории действий.

6\. История парковок:  
   \- Пользователь должен иметь доступ к минимальной истории парковочных сессий, включающей дату, время и стоимость каждой парковки. Это позволит пользователю отслеживать свои действия и оплаченные парковки.

**Ограничения MVP**:  
\- В MVP не требуется поддержка динамических тарифов, штрафов или гибких правил парковки.  
\- Возможность привязывать несколько транспортных средств, сложные тарифные правила, льготы и скидки будут добавлены на следующих этапах разработки.  
\- Административные функции для управления парковочными зонами и пользователями на этапе MVP не реализуются.

